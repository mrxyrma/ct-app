import{d as y,o as n,c as u,a as t,x as P,y as E,b as _,t as f,e as $,f as b,u as v,z as A,F as k,r as j,m as L,A as c,j as R,q as O,_ as M}from"./index-Dwx1fPCc.js";import{u as w,_ as C}from"./products-store-Cke7tw4j.js";const S=["src"],B=y({__name:"app-modal",props:{src:{}},emits:["toggleModal"],setup(m,{emit:i}){const o=i;document.addEventListener("keydown",d);function d(a){a.key==="Escape"&&o("toggleModal"),document.removeEventListener("keydown",d)}return(a,l)=>(n(),u("div",{class:"fixed top-0 left-0 bottom-0 right-0 bg-black bg-opacity-50 flex justify-center items-center",onClick:l[0]||(l[0]=e=>a.$emit("toggleModal"))},[t("img",{src:a.src,alt:"Фото изделия",class:"my-20"},null,8,S)]))}}),T=P(B,[["__scopeId","data-v-98cffde2"]]),V="/ct-app/assets/placeholder-i_9VXY_j.svg",N={class:"flex items-center gap-2"},z=["src"],F=y({__name:"accessory-item",props:{order_num:{},name:{},src:{}},setup(m){const i=m,o=E(!1),d=_(()=>i.src||V);function a(){o.value=!o.value}function l(e){navigator.clipboard.writeText(e)}return(e,s)=>(n(),u(k,null,[t("li",N,[t("img",{src:d.value,alt:"Фото аксессуара",class:"w-32 h-32 object-scale-down cursor-pointer",onClick:a},null,8,z),t("p",null,[t("b",{class:"cursor-alias",onClick:s[0]||(s[0]=()=>l(String(e.order_num)))},f(e.order_num),1),$(" - "),t("span",{class:"cursor-alias",onClick:s[1]||(s[1]=()=>l(e.name))},f(e.name),1)])]),o.value?(n(),b(v(T),{key:0,src:d.value,onToggleModal:a},null,8,["src"])):A("",!0)],64))}}),q={class:"flex flex-col items-center gap-5 md:flex-row md:items-start"},H=["src"],X={class:"flex flex-col"},Y=t("p",{class:"mt-2.5 text-xl font-semibold"},"Технические характеристики:",-1),G={class:"mt-2.5"},J=y({__name:"product-info",props:{productData:{}},setup(m){const i=m,o=E(!1),d=_(()=>i.productData.src||V),a=_(()=>{const s=[];for(let r in i.productData)["_id","Артикул","Наименование","Серия","src"].includes(r)||s.push(`${r}: ${i.productData[r]}`);return s});function l(s){navigator.clipboard.writeText(s)}function e(){o.value=!o.value}return(s,r)=>(n(),u(k,null,[t("div",q,[t("img",{class:"w-80 h-80 object-scale-down cursor-pointer",src:d.value,alt:"Фото изделия",onClick:e},null,8,H),t("div",X,[t("h1",{class:"text-3xl font-semibold cursor-alias",onClick:r[0]||(r[0]=()=>l(String(s.productData.Наименование)))},f(s.productData.Наименование),1),t("h2",{class:"text-3xl text-stone-600 mt-2.5 cursor-alias",onClick:r[1]||(r[1]=()=>l(String(s.productData.Артикул)))},f(s.productData.Артикул),1),Y,(n(!0),u(k,null,j(a.value,D=>(n(),u("p",G,f(D),1))),256))])]),o.value?(n(),b(v(T),{key:0,src:d.value,onToggleModal:e},null,8,["src"])):A("",!0)],64))}}),K={key:1,class:"max-w-screen-xl"},Q={class:"mt-7"},U=t("h3",{class:"text-2xl font-semibold mb-2"},"Аксессуары:",-1),W={key:0,class:"grid gap-1 mt-2"},Z={key:1},ts=y({__name:"product-page",setup(m){const i=O(),o=w(),{fetchProducts:d}=o,a=E([]),l=E(!1),e=_(()=>i.params.category),s=_(()=>i.params.product),r=_(()=>o.products.find(p=>p.Артикул==s.value)||{}),D=_(()=>a.value.filter(p=>{if(typeof r.value.Серия=="string")return r.value.Серия.split(", ").includes(p.Серия)})),I=_(()=>!!a.value.length);o.products.length||(d(e.value),x(e.value)),L(()=>x(e.value));async function x(p){l.value=!0,r.value.Серия&&await C(Object.assign({"../../../shared/data/accessories/buzzers.json":()=>c(()=>import("./buzzers-pT8S5AwY.js"),__vite__mapDeps([])),"../../../shared/data/accessories/cable-box.json":()=>c(()=>import("./cable-box-CS0QAhF6.js"),__vite__mapDeps([])),"../../../shared/data/accessories/din-rails.json":()=>c(()=>import("./din-rails-DLPonmZI.js"),__vite__mapDeps([])),"../../../shared/data/accessories/fans.json":()=>c(()=>import("./fans-BH7FOxkv.js"),__vite__mapDeps([])),"../../../shared/data/accessories/fuses.json":()=>c(()=>import("./fuses-Bo837fH8.js"),__vite__mapDeps([])),"../../../shared/data/accessories/heaters.json":()=>c(()=>import("./heaters-wHmbc9qv.js"),__vite__mapDeps([])),"../../../shared/data/accessories/mcb.json":()=>c(()=>import("./mcb-EPlLuGKr.js"),__vite__mapDeps([])),"../../../shared/data/accessories/mccb.json":()=>c(()=>import("./mccb-CCpzmusX.js"),__vite__mapDeps([])),"../../../shared/data/accessories/modular-loadbreakers.json":()=>c(()=>import("./modular-loadbreakers-Mld4KsAY.js"),__vite__mapDeps([])),"../../../shared/data/accessories/monoblock-lights.json":()=>c(()=>import("./monoblock-lights-BPDQlb6Z.js"),__vite__mapDeps([])),"../../../shared/data/accessories/mpsb.json":()=>c(()=>import("./mpsb-BHXIQqg-.js"),__vite__mapDeps([])),"../../../shared/data/accessories/relay.json":()=>c(()=>import("./relay-BfhK9hf_.js"),__vite__mapDeps([])),"../../../shared/data/accessories/terminal-blocks.json":()=>c(()=>import("./terminal-blocks-CRfUMuER.js"),__vite__mapDeps([]))}),`../../../shared/data/accessories/${p}.json`).then(g=>{a.value=g.default}).catch(g=>console.log(g)),l.value=!1}return(p,g)=>l.value?(n(),b(v(M),{key:0})):(n(),u("div",K,[R(v(J),{"product-data":r.value},null,8,["product-data"]),t("div",Q,[U,I.value?(n(),u("ul",W,[(n(!0),u(k,null,j(D.value,h=>(n(),b(v(F),{key:h._id,name:h.Наименование,order_num:h.Артикул,src:h.src},null,8,["name","order_num","src"]))),128))])):(n(),u("p",Z,"Аксессуары пока не добавлены, либо отсутствуют"))])]))}});export{ts as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
