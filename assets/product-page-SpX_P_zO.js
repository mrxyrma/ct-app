import{d as k,o as n,c as u,a as o,x as P,y as E,b as _,t as v,e as L,f as D,u as f,z as j,F as b,r as x,m as $,A as t,j as R,q as O,_ as M}from"./index-BWhBSIWE.js";import{u as w,_ as C}from"./products-store-DAFCVzOu.js";const S=["src"],B=k({__name:"app-modal",props:{src:{}},emits:["toggleModal"],setup(m,{emit:i}){const a=i;document.addEventListener("keydown",d);function d(r){r.key==="Escape"&&a("toggleModal"),document.removeEventListener("keydown",d)}return(r,l)=>(n(),u("div",{class:"fixed top-0 left-0 bottom-0 right-0 bg-black bg-opacity-50 flex justify-center items-center",onClick:l[0]||(l[0]=e=>r.$emit("toggleModal"))},[o("img",{src:r.src,alt:"Фото изделия",class:"my-20"},null,8,S)]))}}),T=P(B,[["__scopeId","data-v-98cffde2"]]),V="/ct-app/assets/placeholder-i_9VXY_j.svg",N={class:"flex items-center gap-2"},z=["src"],F=k({__name:"accessory-item",props:{order_num:{},name:{},src:{}},setup(m){const i=m,a=E(!1),d=_(()=>i.src||V);function r(){a.value=!a.value}function l(e){navigator.clipboard.writeText(e)}return(e,s)=>(n(),u(b,null,[o("li",N,[o("img",{src:d.value,alt:"Фото аксессуара",class:"w-32 h-32 object-scale-down cursor-pointer",onClick:r},null,8,z),o("p",null,[o("b",{class:"cursor-alias",onClick:s[0]||(s[0]=()=>l(String(e.order_num)))},v(e.order_num),1),L(" - "),o("span",{class:"cursor-alias",onClick:s[1]||(s[1]=()=>l(e.name))},v(e.name),1)])]),a.value?(n(),D(f(T),{key:0,src:d.value,onToggleModal:r},null,8,["src"])):j("",!0)],64))}}),q={class:"flex flex-col items-center gap-5 md:flex-row md:items-start"},H=["src"],X={class:"flex flex-col"},Y=o("p",{class:"mt-2.5 text-xl font-semibold"},"Технические характеристики:",-1),G={class:"mt-2.5"},J=k({__name:"product-info",props:{productData:{}},setup(m){const i=m,a=E(!1),d=_(()=>i.productData.src||V),r=_(()=>{const s=[];for(let c in i.productData)["_id","Артикул","Наименование","Серия","src"].includes(c)||s.push(`${c}: ${i.productData[c]}`);return s});function l(s){navigator.clipboard.writeText(s)}function e(){a.value=!a.value}return(s,c)=>(n(),u(b,null,[o("div",q,[o("img",{class:"w-80 h-80 object-scale-down cursor-pointer",src:d.value,alt:"Фото изделия",onClick:e},null,8,H),o("div",X,[o("h1",{class:"text-3xl font-semibold cursor-alias",onClick:c[0]||(c[0]=()=>l(String(s.productData.Наименование)))},v(s.productData.Наименование),1),o("h2",{class:"text-3xl text-stone-600 mt-2.5 cursor-alias",onClick:c[1]||(c[1]=()=>l(String(s.productData.Артикул)))},v(s.productData.Артикул),1),Y,(n(!0),u(b,null,x(r.value,y=>(n(),u("p",G,v(y),1))),256))])]),a.value?(n(),D(f(T),{key:0,src:d.value,onToggleModal:e},null,8,["src"])):j("",!0)],64))}}),K={key:1,class:"max-w-screen-xl"},Q={class:"mt-7"},U=o("h3",{class:"text-2xl font-semibold mb-2"},"Аксессуары:",-1),W={key:0,class:"grid gap-1 mt-2"},Z={key:1},ts=k({__name:"product-page",setup(m){const i=O(),a=w(),{fetchProducts:d}=a,r=E([]),l=E(!1),e=_(()=>i.params.category),s=_(()=>i.params.product),c=_(()=>a.products.find(p=>p.Артикул==s.value)||{}),y=_(()=>r.value.filter(p=>{if(typeof c.value.Серия=="string")return c.value.Серия.split(", ").includes(p.Серия)})),I=_(()=>!!r.value.length);a.products.length||(d(e.value),A(e.value)),$(()=>A(e.value));async function A(p){l.value=!0,c.value.Серия&&await C(Object.assign({"../../../shared/data/accessories/buzzers.json":()=>t(()=>import("./buzzers-pT8S5AwY.js"),__vite__mapDeps([])),"../../../shared/data/accessories/cable-box.json":()=>t(()=>import("./cable-box-CS0QAhF6.js"),__vite__mapDeps([])),"../../../shared/data/accessories/contactors.json":()=>t(()=>import("./contactors-Bodd2ikV.js"),__vite__mapDeps([])),"../../../shared/data/accessories/din-rails.json":()=>t(()=>import("./din-rails-DLPonmZI.js"),__vite__mapDeps([])),"../../../shared/data/accessories/fans.json":()=>t(()=>import("./fans-CMzNkCfu.js"),__vite__mapDeps([])),"../../../shared/data/accessories/fuses.json":()=>t(()=>import("./fuses-Bo837fH8.js"),__vite__mapDeps([])),"../../../shared/data/accessories/heaters.json":()=>t(()=>import("./heaters-wHmbc9qv.js"),__vite__mapDeps([])),"../../../shared/data/accessories/mcb.json":()=>t(()=>import("./mcb-BJguGtjc.js"),__vite__mapDeps([])),"../../../shared/data/accessories/mccb.json":()=>t(()=>import("./mccb-B-xY3Zay.js"),__vite__mapDeps([])),"../../../shared/data/accessories/modular-loadbreakers.json":()=>t(()=>import("./modular-loadbreakers-Mld4KsAY.js"),__vite__mapDeps([])),"../../../shared/data/accessories/monoblock-lights.json":()=>t(()=>import("./monoblock-lights-BPDQlb6Z.js"),__vite__mapDeps([])),"../../../shared/data/accessories/mpsb.json":()=>t(()=>import("./mpsb-CMqVt3oQ.js"),__vite__mapDeps([])),"../../../shared/data/accessories/relay.json":()=>t(()=>import("./relay-ALwoAjxj.js"),__vite__mapDeps([])),"../../../shared/data/accessories/terminal-blocks.json":()=>t(()=>import("./terminal-blocks-DoPa4y4v.js"),__vite__mapDeps([]))}),`../../../shared/data/accessories/${p}.json`).then(g=>{r.value=g.default}).catch(g=>console.log(g)),l.value=!1}return(p,g)=>l.value?(n(),D(f(M),{key:0})):(n(),u("div",K,[R(f(J),{"product-data":c.value},null,8,["product-data"]),o("div",Q,[U,I.value?(n(),u("ul",W,[(n(!0),u(b,null,x(y.value,h=>(n(),D(f(F),{key:h._id,name:h.Наименование,order_num:h.Артикул,src:h.src},null,8,["name","order_num","src"]))),128))])):(n(),u("p",Z,"Аксессуары пока не добавлены, либо отсутствуют"))])]))}});export{ts as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
